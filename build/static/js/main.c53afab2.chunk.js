(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,n){e.exports={card:"card_card__33lDh",info:"card_info__qaC05",img:"card_img__1URk3",posicionInfo:"card_posicionInfo__3xil8",btn:"card_btn__2mphZ"}},18:function(e,t,n){e.exports={contenedor:"detalle_contenedor__1EH3g",infoContenedor:"detalle_infoContenedor__1eS6Q",resumen:"detalle_resumen__2h1tH",loading:"detalle_loading__2egKh",btn:"detalle_btn__3BnUL",img:"detalle_img__21SzR"}},22:function(e,t,n){e.exports={home_box:"home_home_box__3nvWn",btns_box:"home_btns_box__2En0Q",pokemons_box:"home_pokemons_box__2Zdd7",btn:"home_btn__3-mJC",error:"home_error__itqOO",loading:"home_loading__qWRiz"}},26:function(e,t,n){e.exports={mainContainer:"crear_mainContainer__A1x-I",mainForm:"crear_mainForm__24peM",form:"crear_form__J1XN0",formLabel:"crear_formLabel__2p_QR",removeBtn:"crear_removeBtn__14gCT",formBtn:"crear_formBtn__2N_7B",btn:"crear_btn__2h6M_"}},41:function(e,t,n){e.exports={div:"inicio_div__I2pNY",h1:"inicio_h1__2A7Vw"}},49:function(e,t,n){},50:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(23),r=n.n(c),o=(n(49),n(50),n(4)),s=n(13),i=n(5),l=n(11),u=n.n(l),d=n(15),j="GET_RECETAS",b="GET_RECETAS_POR_NOMBRE",p="GET_TIPOS_DE_DIETA",m="FILTRAR_POR_TIPO_DE_DIETA",h="ORDENAR_POR_NOMBRE",O="ORDER_BY_ATTACK",_="GET_DETAIL",f="RESET_DETAIL",v="POST_POKEMON",x="ORDENAR_POR_PUNTUACION_DIETA",g=n(16),y=n.n(g);function C(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://localhost:3001/recipes");case 2:return n=e.sent,e.abrupt("return",t({type:j,payload:n.data}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var N=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:3001/types");case 3:return n=e.sent,a=n.data,console.log(a,"dataa"),e.abrupt("return",t({type:p,payload:a}));case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},E=function(){return{type:f}},R=n(17),D=n.n(R),A=n(0);function S(e){var t=e.nombre,n=e.imagen,a=e.dieta,c=e.id,r=e.puntuacion,s=Object(o.f)();return Object(A.jsx)("div",{className:D.a.card,children:Object(A.jsxs)("div",{className:D.a.posicionInfo,children:[Object(A.jsx)("div",{children:Object(A.jsx)("img",{className:D.a.img,src:n,alt:"No Se encontro la imagen"})}),Object(A.jsxs)("div",{className:D.a.info,children:[Object(A.jsx)("div",{children:Object(A.jsx)("h3",{children:t})}),Object(A.jsx)("div",{children:Object(A.jsxs)("h5",{children:["Puntuacion Del Plato: ",r]})}),Object(A.jsx)("div",{children:Object(A.jsxs)("h5",{children:["Tipos de dietas:",Array.isArray(a)?a.map((function(e){return e.name?Object(A.jsxs)("li",{children:[" ",e.name]}):Object(A.jsxs)("li",{children:[" ",e,"  "]},e)})):""]})}),Object(A.jsx)("button",{className:D.a.btn,onClick:function(e){e.preventDefault(),s.push("/detalles/".concat(c))},children:"Ver M\xe1s"})]})]})})}function T(e){var t=e.setPage,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],o=c[1],l=Object(i.b)();return Object(A.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault(),l((n=r,function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:3001/recipes?name="+n);case 3:return 0===(a=e.sent).length&&console.log(a,"entro al if"),e.abrupt("return",t({type:b,payload:a.data}));case 8:e.prev=8,e.t0=e.catch(0),console.log(alert("No existe esa receta "));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),o(""),t(1)},children:[Object(A.jsx)("input",{type:"text",placeholder:"Buscar Receta...",value:r,onChange:function(e){e.preventDefault(),o(e.target.value),console.log(r)}}),Object(A.jsx)("button",{type:"submit",children:"Buscar"})]})}var I=n(22),k=n.n(I);function w(){var e=Object(o.f)(),t=Object(i.b)();Object(a.useEffect)((function(){t(C())}),[t]),Object(a.useEffect)((function(){t(N())}),[t]);for(var n=Object(i.c)((function(e){return e.recetas})),c=Object(i.c)((function(e){return e.dietas})),r=Object(a.useState)(""),l=Object(s.a)(r,2)[1],u=Object(a.useState)(1),d=Object(s.a)(u,2),j=d[0],b=d[1],p=9*j,O=p-9,_=n.slice(O,p),f=[],v=1;v<=Math.ceil(n.length/9);v++)f.push(v);function g(e){var n;e.preventDefault(),t((n=e.target.value,console.log(n,"payload typo de dieta"),{type:m,payload:n}))}return Object(A.jsxs)("div",{className:k.a.home_box,children:[Object(A.jsxs)("div",{className:k.a.btns_box,children:[Object(A.jsx)("button",{onClick:function(e){!function(e){e.preventDefault(),t(C())}(e)},className:"elementNB",children:"Recargar Recetas"}),Object(A.jsx)("button",{onClick:function(t){t.preventDefault(),e.push("/crearReceta")},className:"elementNB",children:"Crear Receta"}),Object(A.jsxs)("select",{onChange:function(e){var n;e.preventDefault(),t((n=e.target.value,{type:h,payload:n})),b(1),l("Ordenado ".concat(e.target.value))},children:[Object(A.jsx)("option",{value:"default",className:"elementNB",hidden:!0,children:"Ordenar Recetas por Nombre"}),Object(A.jsx)("option",{value:"ASC",children:"A-Z"}),Object(A.jsx)("option",{value:"DESC",children:"Z-A"})]}),Object(A.jsxs)("select",{onChange:function(e){var n;e.preventDefault(),t((n=e.target.value,{type:x,payload:n})),b(1),l("Ordenado ".concat(e.target.value))},children:[Object(A.jsx)("option",{value:"default",className:"elementNB",hidden:!0,children:"Ordenar recetas por Puntuacion"}),Object(A.jsx)("option",{value:"ASC",children:" Menor valor"}),Object(A.jsx)("option",{value:"DESC",children:" Mayor valor"})]}),Object(A.jsxs)("select",{onChange:function(e){return g(e)},children:[Object(A.jsx)("option",{value:"all",children:"Ordenar Por Tipo De Dieta"}),null===c||void 0===c?void 0:c.map((function(e){return Object(A.jsx)("option",{children:e.name},e.name)}))]}),Object(A.jsx)(T,{setPage:b})]}),Object(A.jsx)("div",{className:k.a.pokemons_box,children:null===_||void 0===_?void 0:_.map((function(e){return Object(A.jsx)("div",{children:Object(A.jsx)(S,{nombre:e.nombre,imagen:e.imagen,id:e.id,dieta:e.dieta,puntuacion:e.puntuacion},"222")},e.id)}))}),Object(A.jsxs)("div",{className:k.a.btns_box,children:[Object(A.jsx)("button",{onClick:function(){j>1&&1!==f&&b(j-1)},children:"Pagina Anterior"}),j,Object(A.jsx)("button",{onClick:function(){j===f.length?(b(f.length),console.log("entro al if de  pagina siguiente")):b(j+1)},children:"Pagina Siguiente"})]})]})}var L=n(18),P=n.n(L);function B(e){var t=e.name,n=e.data;return Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:"".concat(t,": ")}),Object(A.jsx)("label",{children:n})]})}function M(){var e=Object(i.b)(),t=Object(o.f)(),n=Object(o.g)().id,c=Object(i.c)((function(e){return e.detalles}));return Object(a.useEffect)((function(){return e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.get("http://localhost:3001/recipes/id?id=".concat(e));case 3:return a=t.sent,c=a.data,t.abrupt("return",n({type:_,payload:c}));case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),alert("No existe ese ID de receta ");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(n)),function(){e(E())}}),[e,n]),Object(A.jsx)("div",{className:P.a.contenedor,children:Object(A.jsxs)("div",{className:P.a.infoContenedor,children:[Object(A.jsx)("button",{className:P.a.btn,onClick:function(n){n.preventDefault(),e(E()),t.push("/home")},children:"Atras"}),Object.keys(c).length>0?Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{children:Object(A.jsx)("img",{className:P.a.img,src:c[0].imagen,alt:"imagen no encotrada"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)("li",{children:Object(A.jsx)(B,{name:"Id",data:c[0].id})}),Object(A.jsx)("li",{children:Object(A.jsx)(B,{name:"Nombre",data:(c[0].nombre,c[0].nombre)})}),Object(A.jsx)("li",{children:Object(A.jsx)(B,{name:"Dietas",data:Array.isArray(c[0].dieta)?c[0].dieta.map((function(e){return e.name?Object(A.jsxs)("label",{children:[" ",e.name," * "]},e.name):Object(A.jsxs)("label",{children:[" ",e," * "]},e)})):c[0].dieta})}),Object(A.jsx)("li",{className:P.a.resumen,children:Object(A.jsx)(B,{name:"Resumen",data:c[0].resumen})}),Object(A.jsx)("li",{children:Object(A.jsx)(B,{name:"Puntuacion",data:c[0].puntuacion})}),Object(A.jsx)("li",{children:Object(A.jsx)(B,{name:"Nivel de comida saludable",data:c[0].nivel_de_comida_saludable})}),Object(A.jsx)("li",{children:Object(A.jsx)(B,{name:"Instrucciones",data:c[0].paso_a_paso})})]})]}):Object(A.jsx)("p",{children:"Espere.."})]})})}var U=n(44),q=n(21),F=n(2);var G=function(e){var t=e.name,n=e.type,a=e.value,c=e.handle_function,r=e.error_control;return Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:"".concat(t,": ")}),Object(A.jsx)("input",{type:n,value:a,name:t.toLowerCase(),onChange:c})]}),r[t.toLowerCase()]&&Object(A.jsx)("p",{children:r[t.toLowerCase()]})]})},J=n(26),Z=n.n(J);function K(){var e=Object(i.b)(),t=Object(o.f)(),n=Object(i.c)((function(e){return e.dietas})),c=Object(i.c)((function(e){return e.recetas}));console.log(n);var r=Object(a.useState)({}),l=Object(s.a)(r,2),j=l[0],b=l[1],p=Object(a.useState)({nombre:"",resumen:"",puntuacion:"",nivel_de_comida_saludable:"",imagen:"",paso_a_paso:"",dieta:[]}),m=Object(s.a)(p,2),h=m[0],O=m[1];Object(a.useEffect)((function(){0===n.length&&e(N())}),[e,n]),Object(a.useEffect)((function(){0===c.length&&e(C())}),[e,c.length]);var _=c.map((function(e){return e.nombre}));function f(e){console.log("campo :",e.target.name,"valor :",e.target.value),e.preventDefault(),O(Object(F.a)(Object(F.a)({},h),{},Object(q.a)({},e.target.name,e.target.value))),b(function(e){var t={};return e.nombre||(t.nombre="Nombre requerido"),e.puntuacion<0&&(t.puntuacion="puntuacion No puede ser negativo"),e.nivel_de_comida_saludable<0&&(t.nivel_de_comida_saludable="nivel_de_comida_saludable No puede ser negativo"),""===e.imagen||/^(ftp|http|https):\/\/[^ "]+$/.test(e.imagen)||(t.imagen="la imagen iene que ser una Url ejemplo: http://"),e.resumen.length<1&&(t.paso_a_paso="El resumen es obligatorio"),e.resumen.length<10&&(t.paso_a_paso="El resumen deve tener por lo menos 10 caracteres"),e.paso_a_paso.length<1&&(t.paso_a_paso="las instrucciones son obligatorias"),e.paso_a_paso.length<10&&(t.paso_a_paso="las instrucciones deven tener por lo menos 10 caracteres"),t}(Object(F.a)(Object(F.a)({},h),{},Object(q.a)({},e.target.name,e.target.value))))}function x(e){e.preventDefault(),O(Object(F.a)(Object(F.a)({},h),{},{dieta:h.dieta.filter((function(t){return t!==e.target.value}))}))}return Object(A.jsx)("div",{className:Z.a.mainContainer,children:Object(A.jsxs)("div",{className:Z.a.mainForm,children:[Object(A.jsx)("button",{onClick:function(e){e.preventDefault(),t.push("/home")},children:"Volver"}),Object(A.jsxs)("form",{className:Z.a.form,children:[Object(A.jsx)(G,{name:"nombre",type:"text",value:h.nombre,handle_function:f,error_control:j}),Object(A.jsx)(G,{name:"Imagen",type:"url",value:h.imagen,handle_function:f,error_control:j}),Object(A.jsx)(G,{name:"Puntuacion",type:"number",value:h.puntuacion,handle_function:f,error_control:j}),Object(A.jsx)(G,{name:"nivel_de_comida_saludable",type:"number",value:h.nivel_de_comida_saludable,handle_function:f,error_control:j}),Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:"Resumen del plato:"}),Object(A.jsx)("textarea",{name:"resumen",rows:"1",cols:"40",onChange:f,children:h.resumen})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:"Instrucciones:"}),Object(A.jsx)("textarea",{name:"paso_a_paso",rows:"1",cols:"40",onChange:f,children:h.paso_a_paso})]}),j.paso_a_paso?Object(A.jsx)("span",{children:j.paso_a_paso}):"",j.resumen?Object(A.jsx)("span",{children:j.resumen}):"",Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:"Dietas: "}),Object(A.jsxs)("select",{onChange:function(e){O(Object(F.a)(Object(F.a)({},h),{},{dieta:h.dieta.includes(e.target.value)?h.dieta:[].concat(Object(U.a)(h.dieta),[e.target.value])}))},children:[Object(A.jsx)("option",{}),n.map((function(e){return Object(A.jsx)("option",{value:e.name,children:e.name},e.name)}))]})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:"Dietas Seleccionadas : "}),h.dieta.map((function(e){return Object(A.jsxs)("button",{onClick:x,value:e,children:[" Remover ",e,"  "]},e)}))]}),Object(A.jsx)("button",{type:"submit",onClick:function(n){if(n.preventDefault(),0===h.dieta.length&&alert("Seleccione Un Tipo De Dieta"),0===h.nombre.length||0===h.resumen.length||0===h.puntuacion.length||0===h.nivel_de_comida_saludable.length||0===h.paso_a_paso.length)alert("Rellene todos los campos");else if(h.nombre.length>0){var a=h.nombre.toLowerCase(),c=_.includes(a);console.log(c,a),!0===c?(alert("Ese Nombre Ya esta En Uso"),O({nombre:"",resumen:"",puntuacion:"",nivel_de_comida_saludable:"",imagen:"",paso_a_paso:"",dieta:[]})):(alert("Receta Creada Con Exito"),e((r=h,function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.post("http://localhost:3001/recipes",r).then((function(e){return t({type:v,payload:e.data})})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),O({nombre:"",resumen:"",puntuacion:"",nivel_de_comida_saludable:"",imagen:"",paso_a_paso:"",dieta:[]}),t.push("/home"))}var r},children:"Crear Receta"})]})]})})}var Q=n(41),V=n.n(Q);var W=function(){var e=Object(o.f)();return Object(A.jsx)("div",{className:V.a.div,children:Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{children:Object(A.jsx)("h1",{children:"RECETARIO ONLINE"})}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{onClick:function(t){t.preventDefault(),e.push("/home")},children:"Inicio"})})]})})};var Y=function(){return Object(A.jsxs)(o.c,{children:[Object(A.jsx)(o.a,{exat:!0,path:"/detalles/:id",component:M}),Object(A.jsx)(o.a,{exat:!0,path:"/home",component:w}),Object(A.jsx)(o.a,{exat:!0,path:"/crearReceta",component:K}),Object(A.jsx)(o.a,{path:"/",component:W})]})},z=n(12),H=n(25),X=n(42),$=n(43),ee={recetas:[],todasLasRecetas:[],dietas:[],detalles:{}};var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(F.a)(Object(F.a)({},e),{},{recetas:t.payload,todasLasRecetas:t.payload});case b:return Object(F.a)(Object(F.a)({},e),{},{recetas:t.payload});case p:return Object(F.a)(Object(F.a)({},e),{},{dietas:t.payload});case v:return Object(F.a)({},e);case _:return Object(F.a)(Object(F.a)({},e),{},{detalles:t.payload});case f:return Object(F.a)(Object(F.a)({},e),{},{detalles:{}});case m:var n=e.todasLasRecetas,a=n.filter((function(e){return e.dieta.includes(t.payload.toString().toLowerCase())}));return console.log(n,"recetas"),console.log(a,"dietas a filtradas"),console.log(t.payload.length," payload"),Object(F.a)(Object(F.a)({},e),{},{recetas:"all"===t.payload?e.todasLasRecetas:a});case h:var c;return c="ASC"===t.payload?e.recetas.sort((function(e,t){return e.nombre>t.nombre?1:e.nombre<t.nombre?-1:0})):"DESC"===t.payload?e.recetas.sort((function(e,t){return e.nombre>t.nombre?-1:e.nombre<t.nombre?1:0})):e.todasLasRecetas,Object(F.a)(Object(F.a)({},e),{},{recetas:c});case O:var r;return r="ASC"===t.payload?e.recetas.sort((function(e,t){return e.puntuacion>t.puntuacion?1:e.puntuacion<t.puntuacion?-1:0})):"DESC"===t.payload?e.recetas.sort((function(e,t){return e.puntuacion>t.puntuacion?-1:e.puntuacion<t.puntuacion?1:0})):e.todasLasRecetas,Object(F.a)(Object(F.a)({},e),{},{recetas:r});case x:var o;return o="ASC"===t.payload?e.recetas.sort((function(e,t){return e.dieta.length>t.dieta.length?1:e.dieta.length<t.dieta.length?-1:0})):"DESC"===t.payload?e.recetas.sort((function(e,t){return e.dieta.length>t.dieta.length?-1:e.dieta.length<t.dieta.length?1:0})):e.todasLasRecetas,Object(F.a)(Object(F.a)({},e),{},{recetas:o});default:return e}},ne=Object(H.createStore)(te,Object($.composeWithDevTools)(Object(H.applyMiddleware)(X.a)));r.a.render(Object(A.jsx)(i.a,{store:ne,children:Object(A.jsx)(z.a,{children:Object(A.jsx)(Y,{})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.c53afab2.chunk.js.map